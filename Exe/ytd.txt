______________________________________________________________________________

YouTube Downloader v0.23                                  (C) 2009, 2010 Pepak
http://www.pepak.net/download/youtube-downloader/         http://www.pepak.net
______________________________________________________________________________

Nástroj pro stahování videa z YouTube a dalších webovıch úloiš videa. Funguje 
z pøíkazové øádky, odkud pøijme libovolnı poèet URL ke staení, pøípadnì
soubor se seznamem URL. Soubory ukládá pod název z YouTube, preferuje
HD video, pokud je k dispozici.

Podporované weby a formáty URL:

 - Barrandov.tv:

     - http://www.barrandov.tv/54698-nikdy-nerikej-nikdy-upoutavka-epizoda-12

       Pozn.: Jde o streamovanı formát podle protokolu RTMP. Viz níe.
       Pøehrát jde napøíklad programem The KMPlayer.

 - Blip.tv:

     - http://blip.tv/play/hIVV4tIUAg
     - http://blip.tv/file/1607673/
     - http://thespoonyone.blip.tv/file/1607673/

 - CeskaTelevize.cz

     - http://www.ceskatelevize.cz/ivysilani/309292320520025-den-d-ii-rada/
     - http://www.ceskatelevize.cz/program/port/541-elektronicke-knihy/

     Pozn.: Jde o streamovanı formát podle protokolu RTSP over HTTP. Viz
     níe v poznámkách ke knihovnì MSDL_DLL.DLL.

 - iPrima.cz:

     - http://www.iprima.cz/videoarchiv/44524/all/all

 - Markiza.sk:

     - http://video.markiza.sk/archiv-tv-markiza/dnes/36829

     Pozn.: Poøady mohou bıt tvoøeny nìkolika rùznımi video soubory.

 - N-joy.cz:

     - http://n-joy.cz/video/shank-5-minut-hrani/il18d8bbuynet5gk

 - Nova.cz:

     - http://archiv.nova.cz/multimedia/ulice-1683-1684-dil.html

       Pozn.: Jde o streamovanı formát podle protokolu RTMP. Viz níe.
       Pøehrát jde napøíklad programem The KMPlayer.

 - Rozhlas.cz:

     - http://www.rozhlas.cz/vltava/porady/_zprava/676996

     Pozn.: Poøady mohou bıt tvoøeny nìkolika rùznımi audio soubory.

 - Stream.cz:

     - http://www.stream.cz/video/437197-meziplyn-30

       Pozn.: V obsluze stream.cz je chyba, kvùli které nìkdy video stáhnout
       jde a jindy nejde. Pøíèina není známa, vypadá ale na nìjakı èasovací
       problém v knihovnì Synapse, protoe staèí vloit na vhodné místo 
       breakpoint nebo prodlevu a hned problém zmizí.

       Pozn.: Stream.cz slouí jako content-delivery-network pro øadu dalších
       slueb, napøíklad pro televizní stanici Óèko.

 - TVcom.cz:

     - http://bojove-sporty.tvcom.cz/video/545-budo-show-zlin-2006-dil-1.htm

     Pozn.: Jde o streamovanı formát podle protokolu RTSP over HTTP. Viz
     níe v poznámkách ke knihovnì MSDL_DLL.DLL.

 - Youtube.com:

     - http://www.youtube.com/v/b5AWQ5aBjgE
     - http://www.youtube.com/watch/v/b5AWQ5aBjgE
     - http://www.youtube.com/watch?v=b5AWQ5aBjgE
     - http://www.youtube.com/view_play_list?p=90D6E7C4DE68E49E



Od verze 0.15 program zahrnuje podporu pro streamované video podle protokolu
RTMP. Protokol je implementován pomocí knihovny vzniklé drobnou úpravou 
projektu RTMPDUMP (http://rtmpdump.mplayerhq.hu). Tato implementace má øadu
nedostatkù, se kterımi je tøeba poèítat:

1) Neumí pøesnì urèit celkovou velikost videa. Velikost je odhadována na
   základì dosud staené velikosti, dosud staeného èasu a celkového èasu
   videa.

2) Z knihovny nejsou do Downloaderu pøedávány informace o chybách. Místo
   toho je v TEMP adresáøi uivatele generován klasickı log projektu RTMPDUMP,
   ve kterém lze pøíèiny pøípadnıch chyb dohledat.

3) Aby šlo stahovat z RTMP streamù, jsou vyadovány následující DLL knihovny:
   - RTMPDUMP_DLL.DLL - je souèástí YTD.
   - CRYPTOEAY32-0.9.8.DLL - souèást OpenSSL verze 0.9.8. V OpenSSL mùe bıt
       pojmenována i CRYPTOEAY32.DLL.
   - SSLEAY32-0.9.8.DLL - souèást OpenSSL. Alternativní jméno SSLEAY32.DLL.

4) Nelze stoprocentnì detekovat, zda bylo video staeno kompletní.



Od verze 0.17 je podporována rodina protokolù kolem MMS a RTSP (mimo jiné
Microsoftí streamy, Real streamy a øada dalších). Protokol je implementován
pomocí knihovny vzniklé drobnou úpravou projektu MSDL (http://msdl.sf.net/).
Poèítejte s tím, e cílem bylo mít úpravu hotovou rychle a s minimem zmìn
v pùvodním projektu (podobnì jako u podpory RTMP vıše), take jsem spoustu
monıch variant prostì ignoroval; a je budu potøebovat, rozšíøím pøíslušnì
úpravy MSDL.

Pozn.: Celková velikost stahovaného streamu je jen odhad, kterı nemusí bıt
úplnì pøesnı. Klidnì se mùe stát, e pøenos skonèí v 93 % a pøesto se
ohlásí jako úspìšnı - a pøehráním skuteènì zjistíte, e stream je staen
kompletnì.



Od verze 0.19 jsou podporovány zdroje, ve kterıch je jeden poøad tvoøen
nìkolika samostatnımi mediálními soubory (napø. Markiza.sk). YouTube
Downloader momentálnì neumoòuje vybrat, které ze souborù se stáhnou a
které ne - stahují se vdy všechny.



SYNTAXE
-------

  ytd.exe <param> [<param>] [<param>] ...

  kde <param> je buï URL, nebo jedna z následujících moností:

    -i <soubor> ... Stáhne všechna URL z textového souboru <soubor>, kde
                    kadı øádek reprezentuje jednu URL.
    -o <cesta> .... Soubory se budou stahovat do adresáøe <cesta>. Vıchozí
                    hodnotou je aktuální pracovní adresáø.
    -e <soubor> ... Do souboru <soubor> se budou zapisovat všechny downloady,
                    které skonèily chybou.
    -s <zdroj> .... <zdroj> (soubor nebo URL) se prohledá na podporované
                    odkazy a ty nalezené se stáhnou.
    -n ............ Nikdy nepøepisovat existující soubory.
    -a ............ Vdy pøepsat existující soubory.
    -r ............ Pokud soubor se stejnım názvem existuje, automaticky
                    vygenerovat novı název, kterı u bude jedineènı.
    -k ............ Pokud soubor existuje, zeptat se uivatele (vıchozí).

  Napø.: ytd.exe "http://www.youtube.com/watch?v=6wXkI4t7nuc"
         ytd.exe -i c:\temp\seznam.txt
         ytd.exe -a "http://www.youtube.com/watch?v=6wXkI4t7nuc"

  Pokud nejsou uvedeny parametry, spustí se grafická verze programu.



CHANGELOG
---------

  v0.23

    * Pøepracována práce s playlisty tak, aby vıstupy (pro command-line
      verzi) byly pøehlednìjší a snáze se pøidávaly další formáty playlistù.

    * Podpora pro YouTube videa oznaèená jako "jen pro dospìlé".

    * Parametr -e pro logování nepodaøenıch downloadù.

    * Parametr -s pro vloení odkazù z HTML zdroje. Podporovány jsou lokální
      soubory i stránky na webu. Pøíklad:

      ytd.exe -s "http://www.zive.cz"
      ytd.exe -s "c:\temp\zive.html"

    * Do grafického rozhraní byly doplnìny funkce pro naètení seznamu URL ze
      souboru (jako -i v CLI verzi), naètení podporovanıch URL z HTML souboru 
      a naètení podporovanıch URL z HTML stránky (obojí jako -s v CLI).

    * V grafickém rozhraní lze nyní uloit seznam nestaenıch odkazù do
      souboru, kterı lze pozdìji naèíst pomocí parametru -i.



  v0.22

    * V grafickém prostøedí se zobrazuje nápovìda pro jednotlivá tlaèítka.

    * Zmìnìna vıchozí reakce na existující soubor. Starší verze tento soubor
      bez ptaní pøepsaly. Verze 0.22 se uivatele zeptá na poadovanou akci,
      je moné té pouít parametry -n (nepøepisovat), -a (pøepisovat),
      -r (automaticky pøejmenovávat) a -k (ptát se uivatele).

      Grafická verze se ptá pokadé, kdy narazí na existující soubor, kromì
      pøípadu, kdy je zaškrtnuta volba "Auto-overwrite" - pak se automaticky
      pøepisuje jako v pøedchozích verzích.

    * Grafická verze se minimalizuje do traye.

    * Pro stahování z YouTube jsou podporovány playlisty (ve formátu
      http://www.youtube.com/view_play_list?p=90D6E7C4DE68E49E) - stáhne
      se vdy celı playlist.



  v0.21

    * Podpora pro Markízu a spol. znefunkènila YouTube a ostatní providery
      fungující na bázi protokolu HTTP.



  v0.20

    * Èeská televize: Podpora pro poøady programu PORT.



  v0.19

    * Nìkteré vytvoøené regulární vırazy se z pamìti neuvolòovaly, dokud
      aplikace neskonèila.

    * YouTube: Video "http://www.youtube.com/watch?v=7INIRLe7x0Y" se ukládalo
      s pøíponou ".mp4", ale správnì je ".flv". Je moné, e jsou i další
      podobné pøípady, pøíponu pøiøazuji pomocí vıètu a zdaleka nemám 
      kompletní seznam. Kdy narazíte na video uloené pod špatnou pøíponou,
      dejte mi prosím vìdìt.

    * Podpora pro http://www.tvcom.cz.

    * Podpora pro http://www.markiza.sk. Pokud je poøad tvoøen nìkolika
      samostatnımi soubory, budou staeny všechny.

    * Podpora pro http://www.rozhlas.cz. Pokud je poøad tvoøen nìkolika
      samostatnımi soubory, budou staeny všechny.



  v0.18

    * Podpora pro zmìnìnı design YouTube.



  v0.17

    * Podpora pro protokoly MMS, MMSH, RTSP a jejich varianty tunelované
      pøes FTP a HTTP. Podpora je øešena pomocí knihovny MSDL_DLL.DLL,
      která vznikla drobnou úpravou programu MSDL (http://msdl.sf.net/).

    * Podpora pro iVysílání Èeské televize.

    * RTMPDUMP aktualizován na nejèerstvìjší verzi.



  v0.16

    * Zkráceny vıpisy v command-line verzi programu, aby se pøi stahování
      souborù vìtších ne 100 MB nemnoily øádky s prùbìhem.

    * Podpora pro videa televize Nova (nova.cz).



  v0.15:
  
    * Restrukturalizován zdrojovı kód, aby umoòoval lépe pøidávat další
      zdroje médií.

    * Podpora pro stahování streamù pøenášenıch protokolem RTMP. Download
      je øešen pomocí knihovny RTMPDUMP_DLL.DLL, která vznikla drobnou
      úpravou programu RTMPDUMP (http://rtmpdump.mplayerhq.hu). Knihovna
      potøebuje OpenSSL verze 0.9.8, konkrétnì knihovny SSLEAY32-0.9.8.DLL
      a CRYPTOEAY32-0.9.8.DLL.

    * Podpora pro Barrandov.tv.



  v0.14:

    * Podpora pro Stream.cz z minulé verze rozhodila ostatní zdroje
      videa, které kvùli tomu nefungovaly. To je nyní opraveno.

    * Upraveno grafické rozhraní (ikonky, tlaèítka atd.).

    * Pøidána monost zkompilovat jen CLI nebo jen GUI verzi programu:
      Pøi spouštìní BUILD.BAT mùete pouít parametr "CLI" (jen command
      line verze) resp. "GUI" (jen grafická verze) (v obou pøípadech bez
      uvozovek). "CLI" vıraznì zmenší vıslednı EXE soubor, "GUI" odstraní
      okno konzole. Ve vıchozím stavu se kompiluje verze s CLI i GUI
      souèasnì.

    * Knihovna Synapse aktualizována na release 39. Problém se Stream.cz
      (viz upozornìní vıše) ale stále trvá.

    * Podpora pro download z iPrima.cz (pouívá Stream.cz).



  v0.13:

    * Pøidána podpora pro Stream.cz. Je v tom ale zatím neodhalená chyba,
      viz vıše v sekci "podporované weby a formáty."

    * Kromì názvu videa a souboru se nyní zobrazuje i adresa, ze které
      lze video stáhnout "ruènì" (napø. WGETem).



  v0.12:

    * Nefungovalo stahování filmù, které na YouTube nemìly nìkterou
      HD verzi.

    * Kompletnì pøepracovaná GUI verze. Nyní zobrazuje seznam URL ke
      staení, umí stahovat víc odkazù najednou atd. 



  v0.11:

    * Experimentální podpora pro vyšší formáty HD videa (720HQ, 1080p).
      Prosím, pokud narazíte na video, kde to nefunguje, pošlete mi
      odkaz.



  v0.10:

    * Kompletnì restrukturalizováno, aby se daly snadno pøidávat další
      zdroje videa.

    * Zmìnìn tvar všech vıstupù, aby byl pøehlednìjší.

    * Podpora pro n-joy.cz.

    * Podpora pro blip.tv.

    * Podpora pro seznam URL v souboru (pomocí parametru -i).

    * Pozor, program nyní potøebuje knihovnu pcre.dll (pøiloena).

    * Pøidány informace o aplikaci pro GetFileVersionEx. Pøidána ikonka.

    * Pøidáno jednoduché grafické rozhraní, které se zobrazí, pokud program
      spustíte bez parametrù.



  v0.06:

    * Podpora pro URL ve tvaru http://www.youtube.com/v/(id)



  v0.05:

    * Pøeuspoøádány zdrojové kódy a buildovací dávka.

    * Podpora pro URL ve tvaru http://www.youtube.com/watch/v/(id)
